# Render ä¸€ç«™å¼éƒ¨ç½²æ•™ç¨‹ï¼ˆå‰ç«¯+åç«¯+æ•°æ®åº“ï¼‰

## ğŸ“‹ éƒ¨ç½²æ–¹æ¡ˆ

**å…¨éƒ¨åœ¨ Render éƒ¨ç½²ï¼š**
- âœ… å‰ç«¯ï¼šRender Static Siteï¼ˆæ°¸ä¹…å…è´¹ï¼‰
- âœ… åç«¯ï¼šRender Web Serviceï¼ˆå…è´¹ 750 å°æ—¶/æœˆï¼‰
- âœ… æ•°æ®åº“ï¼šRender PostgreSQLï¼ˆå…è´¹ï¼‰

**ä¼˜ç‚¹ï¼š**
- å…¨éƒ¨ä¸€ä¸ªå¹³å°ç®¡ç†ï¼Œç®€å•æ–¹ä¾¿
- ä¸éœ€è¦å¤šä¸ªè´¦å·
- æˆ‘å¯¹ Render å¾ˆç†Ÿæ‚‰ï¼Œèƒ½å‡†ç¡®æŒ‡å¯¼ä½ 

---

## ç¬¬ä¸€æ­¥ï¼šæ³¨å†Œ Render

### 1.1 æ³¨å†Œè´¦å·

1. è®¿é—® [Render.com](https://render.com)

2. ç‚¹å‡»å³ä¸Šè§’çš„ **Sign up** æŒ‰é’®

3. é€‰æ‹© **Sign up with GitHub**

4. æˆæƒ Render è®¿é—®ä½ çš„ GitHub ä»“åº“

5. ç­‰å¾…æ³¨å†Œå®Œæˆ

6. **å…è´¹é¢åº¦ç¡®è®¤**ï¼šç™»å½•åä¼šçœ‹åˆ°å…è´¹é¢åº¦
   - Web Service: 750 å°æ—¶/æœˆ
   - Database: 90 å¤©å…è´¹ï¼ˆåå¯æ¢ PlanetScale æ°¸ä¹…å…è´¹ï¼‰

---

## ç¬¬äºŒæ­¥ï¼šéƒ¨ç½² Django åç«¯

### 2.1 åˆ›å»º Web Service

1. ç™»å½• Render åï¼Œç‚¹å‡» **New +** â†’ **Web Service**

2. é€‰æ‹©ä½ çš„ `web-b2b` ä»“åº“

3. é…ç½®å¦‚ä¸‹ï¼š

| é…ç½®é¡¹ | å¡«å†™å†…å®¹ |
|--------|---------|
| **Name** | `django-backend` |
| **Region** | `Oregon (US West)` æˆ–ç¦»ä½ æœ€è¿‘çš„ |
| **Branch** | `master` |
| **Runtime** | `Python 3` |
| **Build Command** | `pip install -r server/requirements.txt && cd server && python manage.py migrate` |
| **Start Command** | `cd server && gunicorn server.wsgi:application --bind 0.0.0.0:$PORT` |

**æ³¨æ„ï¼š**
- Build Command ä¼šå…ˆå®‰è£…ä¾èµ–ï¼Œç„¶åè¿è¡Œæ•°æ®åº“è¿ç§»
- Start Command ä¼šè¿›å…¥ server ç›®å½•å†å¯åŠ¨

### 2.2 æ·»åŠ ç¯å¢ƒå˜é‡

ç‚¹å‡» **Advanced** â†’ **Environment Variables**ï¼Œæ·»åŠ ï¼š

| Key | Value |
|-----|-------|
| `PYTHON_VERSION` | `3.8` |
| `DJANGO_SETTINGS_MODULE` | `server.settings` |
| `RENDER` | `true` |
| `ALLOWED_HOSTS` | `*` |

### 2.3 å¼€å§‹éƒ¨ç½²

1. æ£€æŸ¥æ‰€æœ‰é…ç½®

2. ç‚¹å‡» **Create Web Service**

3. ç­‰å¾…éƒ¨ç½²å®Œæˆï¼ˆ5-10 åˆ†é’Ÿï¼‰

4. æŸ¥çœ‹æ—¥å¿—ï¼Œç¡®è®¤éƒ¨ç½²æˆåŠŸ

### 2.4 è·å–åç«¯ URL

éƒ¨ç½²æˆåŠŸåï¼Œå¤åˆ¶é¡¶éƒ¨çš„ URLï¼š
```
https://django-backend-xxxxx.onrender.com
```
**ä¿å­˜è¿™ä¸ª URLï¼**

---

## ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºæ•°æ®åº“

### 3.1 åˆ›å»º PostgreSQL æ•°æ®åº“

1. ç‚¹å‡» **New +** â†’ **Database** â†’ **PostgreSQL**

2. é…ç½®å¦‚ä¸‹ï¼š

| é…ç½®é¡¹ | å¡«å†™å†…å®¹ |
|--------|---------|
| **Name** | `web-b2b-db` |
| **Region** | é€‰æ‹©ä¸åç«¯ç›¸åŒçš„åŒºåŸŸ |
| **Database** | `web_b2b` |
| **User** | `web_b2b_user` |

3. ç‚¹å‡» **Create Database**

4. ç­‰å¾…åˆ›å»ºå®Œæˆï¼ˆ2-5 åˆ†é’Ÿï¼‰

### 3.2 è·å–æ•°æ®åº“è¿æ¥ä¿¡æ¯

1. ç‚¹å‡»åˆ›å»ºçš„æ•°æ®åº“

2. æ‰¾åˆ° **Connection** éƒ¨åˆ†

3. å¤åˆ¶ **Internal Database URL**ï¼Œæ ¼å¼ç±»ä¼¼ï¼š
```
postgresql://web_b2b_user:xxx@dpg-xxx.oregon-postgres.render.com:5432/web_b2b
```

### 3.3 æ·»åŠ æ•°æ®åº“ç¯å¢ƒå˜é‡åˆ°åç«¯

1. å›åˆ° Django Web Service é¡µé¢

2. ç‚¹å‡» **Environment Variables**

3. æ·»åŠ æ–°çš„ç¯å¢ƒå˜é‡ï¼š

| Key | Value |
|-----|-------|
| `DATABASE_URL` | `ä½ å¤åˆ¶çš„ Internal Database URL` |

4. ç‚¹å‡» **Save Changes**

5. ç­‰å¾…è‡ªåŠ¨é‡æ–°éƒ¨ç½²

### 3.4 å¯¼å…¥æ•°æ®ï¼ˆå¯é€‰ï¼‰

**æ–¹æ³• Aï¼šé€šè¿‡ SSH å¯¼å…¥ï¼ˆå¤æ‚ï¼Œæš‚æ—¶è·³è¿‡ï¼‰**

**æ–¹æ³• Bï¼šé€šè¿‡ç®¡ç†åå°æ‰‹åŠ¨æ·»åŠ ï¼ˆæ¨èï¼‰**

1. å…ˆéƒ¨ç½²å¥½ï¼Œç¨åå¯ä»¥é€šè¿‡ç®¡ç†åå°æ·»åŠ æ•°æ®

2. æˆ–è€…ç»§ç»­ä½¿ç”¨ Neon æ•°æ®åº“ï¼ˆå…è´¹æ°¸ä¹…ï¼‰

---

## ç¬¬å››æ­¥ï¼šéƒ¨ç½² Next.js å‰ç«¯

### 4.1 åˆ›å»º Static Site

1. ç‚¹å‡» **New +** â†’ **Static Site**

2. é€‰æ‹©ä½ çš„ `web-b2b` ä»“åº“

3. é…ç½®å¦‚ä¸‹ï¼š

| é…ç½®é¡¹ | å¡«å†™å†…å®¹ |
|--------|---------|
| **Name** | `web-frontend` |
| **Branch** | `master` |
| **Runtime** | **ç•™ç©º**ï¼ˆè‡ªåŠ¨è¯†åˆ«ï¼‰ |
| **Build Command** | `cd web && npm install && npm run build` |
| **Publish Directory** | `web/out` |

**æ³¨æ„ï¼š**
- Build Command ä¼šå…ˆè¿›å…¥ web ç›®å½•
- Publish Directory æŒ‡å‘ç¼–è¯‘åçš„è¾“å‡ºç›®å½•

### 4.2 æ·»åŠ ç¯å¢ƒå˜é‡

ç‚¹å‡» **Environment Variables**ï¼Œæ·»åŠ ï¼š

| Key | Value |
|-----|-------|
| `NEXT_PUBLIC_API_URL` | `ä½ çš„åç«¯URL`ï¼ˆä¾‹å¦‚ï¼š`https://django-backend-xxxxx.onrender.com`ï¼‰ |

### 4.3 å¼€å§‹éƒ¨ç½²

1. æ£€æŸ¥é…ç½®

2. ç‚¹å‡» **Create Static Site**

3. ç­‰å¾…éƒ¨ç½²å®Œæˆï¼ˆ3-5 åˆ†é’Ÿï¼‰

### 4.4 è·å–å‰ç«¯ URL

éƒ¨ç½²æˆåŠŸåï¼Œå¤åˆ¶é¡¶éƒ¨çš„ URLï¼š
```
https://web-frontend-xxxxx.onrender.com
```

---

## ç¬¬äº”æ­¥ï¼šæµ‹è¯•éªŒè¯

### 5.1 æµ‹è¯•åç«¯

è®¿é—®ï¼š
```
https://django-backend-xxxxx.onrender.com/admin/
```

- å¦‚æœçœ‹åˆ°ç™»å½•é¡µé¢ï¼Œè¯´æ˜åç«¯æˆåŠŸï¼
- ä½¿ç”¨ `admin123` / `admin123` ç™»å½•

### 5.2 æµ‹è¯•å‰ç«¯

è®¿é—®ï¼š
```
https://web-frontend-xxxxx.onrender.com
```

- å¦‚æœèƒ½çœ‹åˆ°ç½‘ç«™ï¼Œè¯´æ˜å‰ç«¯æˆåŠŸï¼

---

## ç¬¬å…­æ­¥ï¼šé…ç½®è‡ªå®šä¹‰åŸŸåï¼ˆå¯é€‰ï¼‰

### 6.1 å‰ç«¯è‡ªå®šä¹‰åŸŸå

1. åœ¨ Static Site é¡µé¢ï¼Œç‚¹å‡» **Custom Domains**

2. ç‚¹å‡» **+ Add Custom Domain**

3. è¾“å…¥ä½ çš„åŸŸåï¼š`www.yourdomain.com`

4. æŒ‰ç…§æç¤ºé…ç½® DNSï¼š
   - ç±»å‹ï¼š`CNAME`
   - åç§°ï¼š`www`
   - å€¼ï¼š`web-frontend-xxxxx.onrender.com`

### 6.2 åç«¯è‡ªå®šä¹‰åŸŸåï¼ˆå¯é€‰ï¼‰

1. åœ¨ Web Service é¡µé¢ï¼Œç‚¹å‡» **Custom Domains**

2. æ·»åŠ  API åŸŸåï¼š`api.yourdomain.com`

---

## ğŸ’° è´¹ç”¨è¯´æ˜

### Render å…è´¹é¢åº¦

| æœåŠ¡ç±»å‹ | å…è´¹é¢åº¦ |
|---------|---------|
| **Web Service** | 750 å°æ—¶/æœˆï¼ˆ24å°æ—¶è¿è¡Œï¼‰ |
| **Static Site** | å®Œå…¨å…è´¹ï¼Œæ— é™æµé‡ |
| **Database** | 90 å¤©å…è´¹ |

### æ€»è´¹ç”¨

- ç¬¬ 1-3 ä¸ªæœˆï¼š**å®Œå…¨å…è´¹**
- 3 ä¸ªæœˆåæ•°æ®åº“ï¼šçº¦ $7/æœˆï¼ˆæˆ–æ¢ PlanetScale æ°¸ä¹…å…è´¹ï¼‰

---

## â“ å¸¸è§é—®é¢˜

### Q: æ•°æ®åº“ 90 å¤©åæ€ä¹ˆåŠï¼Ÿ

**é€‰é¡¹ 1ï¼šç»§ç»­ä½¿ç”¨ Render PostgreSQL**
- è´¹ç”¨ï¼šçº¦ $7/æœˆ
- ä¼˜ç‚¹ï¼šåŒå¹³å°ï¼Œç®¡ç†ç®€å•

**é€‰é¡¹ 2ï¼šæ¢åˆ° PlanetScaleï¼ˆæ¨èï¼‰**
- è´¹ç”¨ï¼šæ°¸ä¹…å…è´¹
- ä¼˜ç‚¹ï¼šMySQL å…¼å®¹ï¼Œä¸éœ€è¦æ”¹ä»£ç 
- éœ€è¦ä¿®æ”¹ `DATABASE_URL` ç¯å¢ƒå˜é‡

---

### Q: å‰ç«¯éƒ¨ç½²å¤±è´¥ï¼Ÿ

**æ£€æŸ¥ï¼š**
1. `package.json` æ˜¯å¦åœ¨ `web` ç›®å½•
2. `next.config.mjs` æ˜¯å¦é…ç½®äº† `output: 'export'`
3. Build Command æ˜¯å¦æ­£ç¡®

---

### Q: åç«¯éƒ¨ç½²å¤±è´¥ï¼Ÿ

**æ£€æŸ¥ï¼š**
1. `requirements.txt` è·¯å¾„æ˜¯å¦æ­£ç¡®
2. `gunicorn` æ˜¯å¦åœ¨ requirements.txt ä¸­
3. Start Command è·¯å¾„æ˜¯å¦æ­£ç¡®

---

### Q: å‰ç«¯æ— æ³•è¿æ¥åç«¯ï¼Ÿ

**è§£å†³æ–¹æ³•ï¼š**
1. æ£€æŸ¥ `NEXT_PUBLIC_API_URL` ç¯å¢ƒå˜é‡
2. ç¡®è®¤åç«¯å…è®¸ CORSï¼ˆå·²é…ç½®ï¼‰
3. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯

---

## âœ… å®Œæˆæ¸…å•

- [ ] æ³¨å†Œ Render
- [ ] éƒ¨ç½² Django åç«¯
- [ ] åˆ›å»º PostgreSQL æ•°æ®åº“
- [ ] é…ç½®æ•°æ®åº“è¿æ¥
- [ ] éƒ¨ç½² Next.js å‰ç«¯
- [ ] æµ‹è¯•å‰åç«¯è¿æ¥
- [ ] ï¼ˆå¯é€‰ï¼‰é…ç½®è‡ªå®šä¹‰åŸŸå

---

## ğŸ¯ å®Œæˆå

è®¿é—®ä½ çš„ç½‘ç«™ï¼š
- å‰ç«¯ï¼š`https://web-frontend-xxxxx.onrender.com`
- åç«¯ï¼š`https://django-backend-xxxxx.onrender.com/admin/`

**æ­å–œï¼éƒ¨ç½²æˆåŠŸï¼ğŸ‰**
